"use strict";$(document).ready(function(){var s=$("#rating-form"),n=$("#rating-form-generation"),o=$("#rating-form-series"),t=$("#rating-form-series option"),l=$("#rating-form-trim"),i=$("#rating-form-trim option"),e=$("#rating-form-content");$("#generation-select").on("change",function(){h()}),h(),$(".show-all-specs").on("click",function(){$(".collapse-specs:visible").length?($(".collapse-specs").hide(),$(".show-all-specs").html("Show all specs")):($(".collapse-specs").show().css("display","flex"),$(".show-all-specs").html("Hide all specs"))}),"true"===sessionStorage.isThankYou&&(sessionStorage.removeItem("isThankYou"),$("#thank-you").modal("show")),$(".to-rate-trim").on("click",function(){$(".type-info").modal("hide"),r("trim");var e=$(this).data("generation"),t=$(this).data("series"),i=$(this).data("id-trim");n.val(e),o.val(e+";"+t),l.val(e+";"+t+";"+i)}),$("#show-model-dialog").on("click",function(){r("model")}),$("#show-review-dialog").on("click",function(){r("review")}),s.on("submit",function(e){var t=l.val().split(";");$("#rating-form-trim-id").val(t[2]);var i=!0,n=$("#profanities").val().split(" ");if($("#rating-form-content:visible").length)for(var o=$("#rating-form-content").val().split(" "),a=0;a<n.length;a++)for(var r=0;r<o.length;r++)if(n[a]===o[r].toLowerCase()){i=!1;break}i?$("#re-captcha-script").length||(reCAPTCHA(s,"modelPage"),e.preventDefault()):($("#review-warning").html("No swearing please.<BR>"),e.preventDefault())}),t.hide(),i.hide(),n.on("change",function(){var e=$(this).val();t.hide(),i.hide(),o.val(""),l.val(""),t.each(function(){""!==$(this).val()&&$(this).val().split(";")[0]!==e||$(this).show()})}),o.on("change",function(){var t=$(this).val();i.hide(),l.val(""),i.each(function(){var e;""!==$(this).val()?(e=$(this).val().split(";"))[0]+";"+e[1]===t&&($(this).show(),0===$(".trim-type").length?$(this).prop("selected",!0):$(this).show()):$(this).show()})});var a=e.attr("maxlength");function r(e){n.show(),o.show(),l.show();var t=$("#div-area");t.show(),0===$(".trimType").length&&l.hide(),"review"===e?$("#rating-form-content").prop("required",!0):(t.hide(),$("#rating-form-content").prop("required",!1),"trim"===e&&(n.hide(),o.hide(),l.hide()))}function h(){$(".generations").hide(),$("#generation"+$("#generation-select option:selected").val()).show()}e.on("keyup",function(){$("#characters-left").text(a-$(this).val().length)}),e.keypress(function(e){var t=$("#no-html-allowed");if(t.text(""),60===e.which||62===e.which||91===e.which||93===e.which)return t.text("No html allowed"),!1}),e.bind("paste",function(e){var t=$("#no-html-allowed"),e=e.originalEvent.clipboardData.getData("text");if(t.text(""),-1!==e.indexOf("<")||-1!==e.indexOf(">")||-1!==e.indexOf("[")||-1!==e.indexOf("]"))return t.text("No html allowed"),!1})});