$(document).ready(function(){var menuMake=$("#nav_select_make");var menuModel=$("#nav_select_model");menuMake.on("change",function(){sessionStorage.selectedMake=menuMake.val();fillModelMenu("")});menuModel.on("change",function(){sessionStorage.selectedModel=menuModel.val();navigate()});$("#search_form_submit").on("click",function(event){if($("#search_form_text").val()===""){event.preventDefault();if(menuMake.val()===""){}else{navigate()}}});if(typeof sessionStorage.selectedMake!=="undefined"){menuMake.val(sessionStorage.selectedMake)}if(controller==="modelpage"){menuMake.val(makename);sessionStorage.selectedMake=menuMake.val();fillModelMenu(makename+";"+modelname)}else if(typeof sessionStorage.selectedModel!=="undefined"){fillModelMenu(sessionStorage.selectedModel)}function fillModelMenu(model){var selectedMake=$("#nav_select_make").val();menuModel.empty();menuModel.append('<option value="">Model</option>');if(selectedMake===""){return}$.get("/api/getModelNames/"+selectedMake,null,function(modelnames){for(var index=0;index<modelnames.length;index++){var modelnamesArray=modelnames[index].split(";");if(modelnamesArray[0]===selectedMake){menuModel.append('<option value="'+modelnames[index]+'">'+modelnamesArray[1]+"</option>")}}menuModel.val(model);sessionStorage.selectedModel=model})}function navigate(){var menuArray=menuModel.val().split(";");if(menuModel.val()===""){window.location.href="/make/"+menuMake.val()}else{window.location.href="/model/"+menuArray[0]+"/"+menuArray[1]}}});